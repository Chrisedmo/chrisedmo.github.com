// Glitchy text
/*
   Original: http://retromodular.com/
 */var glitcher={init:function(){setTimeout(function(){this.canvas=document.getElementById("stage");this.context=this.canvas.getContext("2d");this.initOptions();this.resize();this.tick()}.bind(this),100)},initOptions:function(){var e=document.querySelector("#stage"),t=e.dataset;this.width=document.documentElement.offsetWidth;this.height=window.innerHeight;this.font="8vw franklin-gothic-urw-cond-1";this.context.font=this.font;this.text=t.text;this.textWidth=this.context.measureText(this.text).width;this.fps=60;this.channel=0;this.compOp="lighter";this.phase=0;this.phaseStep=.05;this.amplitude=0;this.amplitudeBase=2;this.amplitudeRange=2;this.alphaMin=.8;this.glitchAmplitude=20;this.glitchThreshold=.9;this.scanlineBase=40;this.scanlineRange=40;this.scanlineShift=15},tick:function(){setTimeout(function(){this.phase+=this.phaseStep;if(this.phase>1){this.phase=0;this.channel=this.channel===2?0:this.channel+1;this.amplitude=this.amplitudeBase+this.amplitudeRange*Math.random()}this.render();this.tick()}.bind(this),1e3/this.fps)},render:function(){var e=this.amplitude*Math.sin(Math.PI*2*this.phase)>>0,t,n,r;Math.random()>=this.glitchThreshold&&(e*=this.glitchAmplitude);t=this.width-this.textWidth>>1;n=t+e;r=t-e;this.context.clearRect(0,0,this.width,this.height);this.context.globalAlpha=this.alphaMin+(1-this.alphaMin)*Math.random();switch(this.channel){case 0:this.renderChannels(t,n,r);break;case 1:this.renderChannels(n,r,t);break;case 2:this.renderChannels(r,t,n)}this.renderScanline()},renderChannels:function(e,t,n){this.context.font=this.font;this.context.fillStyle="rgb(255,0,0)";this.context.fillText(this.text,e,this.height/2);this.context.globalCompositeOperation=this.compOp;this.context.fillStyle="rgb(0,255,0)";this.context.fillText(this.text,t,this.height/2);this.context.fillStyle="rgb(0,0,255)";this.context.fillText(this.text,n,this.height/2)},renderScanline:function(){var e=this.height*Math.random()>>0,t=this.context.getImageData(0,e,this.width,1),n=t.data,r=n.length,i=this.scanlineBase+this.scanlineRange*Math.random()>>0,s=-this.scanlineShift+this.scanlineShift*2*Math.random()>>0;while(r-->0)n[r]+=i;this.context.putImageData(t,s,e)},resize:function(){if(this.canvas){this.canvas.width=document.documentElement.offsetWidth;this.canvas.height=window.innerHeight}}};glitcher.init();window.onresize=glitcher.resize;$(".social-share a").hover(function(){$(".main-footer").css("background-color",$(this).attr("data-color"))},function(){$(".main-footer").css("background-color","#ddd")});